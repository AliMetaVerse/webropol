<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product • Webropol Shop</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/50ef2d3cf8.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { 'webropol-teal': { 500:'#06b6d4',600:'#0891b2',700:'#0e7490' }, 'webropol-gray': { 50:'#f8fafc', 700:'#334155' } } } } };
  </script>
  <link href="../design-system/styles/animations.css" rel="stylesheet">
  <script type="module" src="../design-system/components/navigation/Header.js"></script>
  <script type="module" src="../design-system/components/navigation/Breadcrumbs.js"></script>
  <script type="module" src="../design-system/utils/global-settings-manager.js"></script>
  <script type="module" src="./shop-sidebar.js"></script>
  <style>
    .prose p{color:#475569}
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-white to-teal-50/20">
  <div class="flex min-h-screen">
    <!-- Global app sidebar intentionally omitted. Shop has its own sidebar. -->
    <div class="flex-1 flex flex-col">
      <webropol-header username="Ali Al-Zuhairi" show-notifications="true" show-help="true" show-user-menu="true"></webropol-header>
      <div class="flex">
        <shop-sidebar></shop-sidebar>
        <section class="flex-1">
          <div class="bg-white/70 backdrop-blur">
            <webropol-breadcrumbs trail='[{"label":"Home","url":"../index.html"},{"label":"Shop","url":"/shop/index.html"},{"label":"Product","url":"#"}]'></webropol-breadcrumbs>
          </div>
          <div class="max-w-6xl mx-auto px-6 py-10">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
              <div class="lg:col-span-2">
                <h1 id="product-title" class="text-3xl font-bold text-slate-900 mb-2"></h1>
                <p id="product-sub" class="text-slate-600 mb-6"></p>
                <div class="prose max-w-none bg-white/70 backdrop-blur rounded-2xl p-6 border border-slate-200">
                  <div id="product-description"></div>
                </div>
              </div>
              <aside class="space-y-4">
                <div class="bg-white rounded-2xl border border-slate-200 p-6">
                  <div class="text-sm text-slate-500 mb-2">Starting from</div>
                  <div id="product-price" class="text-3xl font-semibold text-teal-700">—</div>
                  <div class="text-xs text-slate-500 mt-1">Prices exclude VAT</div>
                  <hr class="my-5" />
                  <label class="block text-sm font-medium text-slate-700 mb-1" for="companySize">Company size</label>
                  <select id="companySize" class="w-full rounded-lg border-slate-300 focus:border-teal-500 focus:ring-teal-500">
                    <option value="1-10">1–10</option>
                    <option value="11-50">11–50</option>
                    <option value="51-200">51–200</option>
                    <option value="201-1000">201–1000</option>
                    <option value=">1000">1000+</option>
                  </select>
                  <button class="mt-4 w-full bg-gradient-to-r from-teal-600 to-teal-500 text-white font-medium py-3 rounded-lg hover:shadow-lg">Add to order</button>
                </div>
                <div class="bg-teal-50 border border-teal-100 text-teal-800 rounded-2xl p-4 text-sm">
                  <i class="fal fa-info-circle mr-2"></i>
                  Need details? Contact sales@webropol.com
                </div>
              </aside>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    // Prefill company size from localStorage if present
    (function() {
      try {
        const key = 'webropol_company_size';
        const select = document.getElementById('companySize');
        const stored = localStorage.getItem(key);
        if (stored && select.querySelector(`option[value="${stored}"]`)) {
          select.value = stored;
        }
        select.addEventListener('change', () => localStorage.setItem(key, select.value));
      } catch (_) {}
    })();

    // Page-specific data injection (set by individual product pages)
    window.renderProduct = function(cfg){
      document.getElementById('product-title').textContent = cfg.title;
      document.getElementById('product-sub').textContent = cfg.subtitle || '';
      document.getElementById('product-price').textContent = cfg.price || '';
      document.getElementById('product-description').innerHTML = cfg.html || '';
    }
  </script>
</body>
</html>
