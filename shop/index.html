<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - MyWebropol</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/50ef2d3cf8.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'webropol-teal': { 50: '#f0fdff', 100: '#ccf7fe', 200: '#99effd', 300: '#66e0fa', 400: '#22ccf1', 500: '#06b6d4', 600: '#0891b2', 700: '#0e7490', 800: '#155e75', 900: '#164e63' },
            'webropol-gray': { 50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 300: '#cbd5e1', 400: '#94a3b8', 500: '#64748b', 600: '#475569', 700: '#334155', 800: '#1e293b', 900: '#0f172a' },
            'webropol-teal-': { 50: '#eff6ff', 100: '#dbeafe', 200: '#bfdbfe', 300: '#93c5fd', 400: '#60a5fa', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 800: '#1e40af', 900: '#1e3a8a' },
            'webropol-green': { 50: '#f0fdf4', 100: '#dcfce7', 200: '#bbf7d0', 300: '#86efac', 400: '#4ade80', 500: '#22c55e', 600: '#16a34a', 700: '#15803d', 800: '#166534', 900: '#14532d' }
          },
          fontFamily: {
            'sans': ['Inter', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
            'medium': '0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            'card': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
            'glow': '0 0 20px rgba(6, 182, 212, 0.3)',
            'glow-lg': '0 0 40px rgba(6, 182, 212, 0.2)',
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-out',
            'slide-up': 'slideUp 0.6s ease-out',
            'bounce-subtle': 'bounceSubtle 0.6s ease-out',
            'glow-pulse': 'glowPulse 2s ease-in-out infinite',
          }
        }
      }
    }
  </script>
  <link href="../design-system/styles/animations.css" rel="stylesheet">
  
  <style>
    /* Custom animations for the redesigned shop */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes bounceSubtle {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    @keyframes glowPulse {
      0%, 100% { box-shadow: 0 0 20px rgba(6, 182, 212, 0.3); }
      50% { box-shadow: 0 0 40px rgba(6, 182, 212, 0.5); }
    }
    
    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    /* Modern glass effect */
    .glass-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: 
        0 8px 32px rgba(6, 182, 212, 0.1),
        0 1px 2px rgba(0, 0, 0, 0.05),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
    }
    
    /* Hover animations */
    .card-hover {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-12px) scale(1.02) rotateX(5deg);
      box-shadow: 
        0 25px 50px rgba(6, 182, 212, 0.15),
        0 10px 20px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    }
    
    /* Icon glow effect */
    .icon-glow {
      box-shadow: 
        0 0 20px rgba(6, 182, 212, 0.4),
        0 0 40px rgba(6, 182, 212, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
    }
    
    .icon-glow:hover {
      box-shadow: 
        0 0 30px rgba(6, 182, 212, 0.6),
        0 0 60px rgba(6, 182, 212, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.5);
      transform: scale(1.1) rotate(5deg);
    }
    
    /* Gradient button */
    .gradient-button {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0891b2 100%);
      background-size: 200% 200%;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .gradient-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .gradient-button:hover {
      background-position: 100% 0%;
      transform: translateY(-2px);
      box-shadow: 
        0 8px 25px rgba(6, 182, 212, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
    
    .gradient-button:hover::before {
      left: 100%;
    }
    
    /* Pricing badge */
    .pricing-badge {
      background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(6, 182, 212, 0.05) 100%);
      border: 1px solid rgba(6, 182, 212, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .pricing-badge::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.1), transparent);
      transition: left 0.6s ease;
    }
    
    .card-hover:hover .pricing-badge::before {
      left: 100%;
    }
    
    /* Category filter pills */
    .filter-pill {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .filter-pill:hover {
      background: rgba(6, 182, 212, 0.1);
      border-color: rgba(6, 182, 212, 0.3);
      transform: translateY(-2px);
    }
    
    .filter-pill.active {
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(6, 182, 212, 0.4);
      border: 1px solid rgba(6, 182, 212, 0.3);
    }
    
    /* Stats counter animation */
    .stat-number {
      background: linear-gradient(45deg, #06b6d4, #0891b2, #06b6d4);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s ease-in-out infinite;
    }
    
    /* Floating elements */
    .float-animation {
      animation: float 6s ease-in-out infinite;
    }
    
    /* Enhanced search bar */
    .search-bar {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .search-bar:focus-within {
      background: rgba(255, 255, 255, 1);
      border-color: rgba(6, 182, 212, 0.5);
      box-shadow: 
        0 0 0 4px rgba(6, 182, 212, 0.1),
        0 8px 25px rgba(6, 182, 212, 0.15);
    }
    
    /* Module category icons */
    .category-icon {
      width: 48px;
      height: 48px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .analytics-icon { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
    .ai-icon { background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); }
    .assessment-icon { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
    .mobile-icon { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
    .case-icon { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
    .bi-icon { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); }
    
    /* Mobile responsive adjustments */
    @media (max-width: 768px) {
      .card-hover:hover {
        transform: translateY(-6px) scale(1.01);
      }
    }
  </style>
  <!-- Remove global app sidebar for shop; use dedicated shop sidebar instead -->
  <script src="../design-system/components/navigation/Header.js" type="module"></script>
  <script src="../design-system/components/navigation/Breadcrumbs.js" type="module"></script>
  <script src="../design-system/components/interactive/FloatingButton.js" type="module"></script>
  <script src="../design-system/components/modals/Modal.js" type="module"></script>
  <script src="../design-system/components/modals/SettingsModal.js" type="module"></script>
  <script src="../design-system/utils/theme-manager.js" type="module"></script>
  <script src="../design-system/utils/global-settings-manager.js" type="module"></script>
  <script src="./shop-sidebar.js" type="module"></script>
  <script src="./header-guard.js"></script>
</head>
<body x-data="shopStore()" class="bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50 min-h-screen">
  <!-- Background decoration -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-teal-200 to-blue-200 rounded-full opacity-20 float-animation"></div>
    <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full opacity-15 float-animation" style="animation-delay: -3s;"></div>
    <div class="absolute top-1/2 right-1/4 w-64 h-64 bg-gradient-to-br from-orange-200 to-yellow-200 rounded-full opacity-10 float-animation" style="animation-delay: -6s;"></div>
  </div>

  <div class="flex h-screen relative z-10">
    <div class="flex-1 flex flex-col overflow-hidden xl:ml-0 ml-0">
      <webropol-header username="Ali Al-Zuhairi" show-notifications="true" show-help="true" show-user-menu="true"></webropol-header>
      
      <div class="bg-white/70 backdrop-blur-sm border-b border-white/20">
        <webropol-breadcrumbs trail='[{"label":"Home","url":"../index.html"},{"label":"MyWebropol","url":"../mywebropol/index.html"},{"label":"Shop","url":"index.html"}]'></webropol-breadcrumbs>
      </div>
      
      <main class="flex-1 overflow-y-auto">
        <div class="flex gap-6 h-full">
          <!-- Modern Sidebar -->
          <div class="hidden lg:block">
            <shop-sidebar></shop-sidebar>
          </div>
          
          <!-- Main Content -->
          <div class="flex-1 min-w-0 px-4 lg:px-6 py-6">
            <!-- Hero Section -->
            <div class="glass-card rounded-3xl p-8 mb-8 animate-fade-in">
              <div class="flex flex-col lg:flex-row items-center justify-between gap-6">
                <div class="text-center lg:text-left">
                  <h1 class="text-4xl lg:text-5xl font-bold bg-gradient-to-r from-slate-900 via-teal-700 to-slate-900 bg-clip-text text-transparent mb-4">
                    Modules & Add-ons
                  </h1>
                  <p class="text-lg text-slate-600 mb-6 max-w-2xl">
                    Enhance your Webropol experience with powerful modules designed to unlock deeper insights and streamline your workflows.
                  </p>
                  
                  <!-- Stats -->
                  <div class="flex flex-wrap justify-center lg:justify-start gap-6">
                    <div class="text-center">
                      <div class="text-3xl font-bold stat-number">8</div>
                      <div class="text-sm text-slate-500">Modules Available</div>
                    </div>
                    <div class="text-center">
                      <div class="text-3xl font-bold stat-number">60€</div>
                      <div class="text-sm text-slate-500">Starting From</div>
                    </div>
                    <div class="text-center">
                      <div class="text-3xl font-bold stat-number">24/7</div>
                      <div class="text-sm text-slate-500">Support</div>
                    </div>
                  </div>
                </div>
                
                <!-- Search & Filters -->
                <div class="w-full lg:w-auto lg:min-w-[300px]">
                  <div class="search-bar rounded-2xl p-4 mb-4">
                    <div class="flex items-center gap-3">
                      <i class="fal fa-search text-slate-400"></i>
                      <input 
                        type="text" 
                        placeholder="Search modules..." 
                        x-model="searchQuery"
                        class="flex-1 bg-transparent border-none outline-none text-slate-700 placeholder-slate-400"
                      >
                    </div>
                  </div>
                  
                  <!-- Category Filters -->
                  <div class="flex flex-wrap gap-2">
                    <template x-for="category in categories" :key="category.id">
                      <button 
                        @click="activeCategory = category.id"
                        :class="{'active': activeCategory === category.id}"
                        class="filter-pill px-4 py-2 rounded-full text-sm font-medium"
                        x-text="category.name">
                      </button>
                    </template>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modules Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
              <template x-for="(module, index) in filteredModules" :key="module.id">
                <div 
                  class="glass-card card-hover rounded-3xl p-6 group cursor-pointer animate-slide-up"
                  :style="`animation-delay: ${index * 0.1}s`"
                  @click="openModule(module)"
                >
                  <!-- Status Indicator -->
                  <div class="flex justify-between items-start mb-4">
                    <div class="w-3 h-3 bg-green-400 rounded-full animate-glow-pulse"></div>
                    <div class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full" x-text="module.category"></div>
                  </div>
                  
                  <!-- Icon -->
                  <div class="flex justify-center mb-6">
                    <div 
                      class="category-icon icon-glow"
                      :class="getIconClass(module.category)"
                    >
                      <i :class="module.icon" class="text-2xl text-white"></i>
                    </div>
                  </div>
                  
                  <!-- Content -->
                  <div class="text-center">
                    <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-teal-700 transition-colors" x-text="module.title"></h3>
                    <p class="text-sm text-slate-600 mb-4 line-clamp-2" x-text="module.description"></p>
                    
                    <!-- Pricing -->
                    <div class="pricing-badge inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-teal-700 mb-4">
                      <span x-text="module.price"></span>
                    </div>
                    
                    <!-- Features -->
                    <div class="space-y-1 mb-6">
                      <template x-for="feature in module.features.slice(0, 2)" :key="feature">
                        <div class="flex items-center justify-center gap-2 text-xs text-slate-500">
                          <i class="fal fa-check text-green-500"></i>
                          <span x-text="feature"></span>
                        </div>
                      </template>
                    </div>
                    
                    <!-- CTA Button -->
                    <button class="gradient-button w-full py-3 rounded-2xl text-white font-semibold text-sm transition-all">
                      Learn More
                    </button>
                  </div>
                </div>
              </template>
            </div>
            
            <!-- Empty State -->
            <div x-show="filteredModules.length === 0" class="text-center py-12 animate-fade-in">
              <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-slate-200 to-slate-300 rounded-full flex items-center justify-center">
                <i class="fal fa-search text-3xl text-slate-400"></i>
              </div>
              <h3 class="text-xl font-semibold text-slate-700 mb-2">No modules found</h3>
              <p class="text-slate-500 mb-4">Try adjusting your search or filter criteria</p>
              <button @click="clearFilters()" class="px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors">
                Clear Filters
              </button>
            </div>

            <!-- Info Section -->
            <div class="mt-12 glass-card rounded-3xl p-8 text-center animate-fade-in">
              <div class="flex flex-col lg:flex-row items-center justify-between gap-6">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl flex items-center justify-center">
                    <i class="fal fa-info-circle text-white text-xl"></i>
                  </div>
                  <div class="text-left">
                    <h4 class="font-semibold text-slate-900">Need Help Choosing?</h4>
                    <p class="text-slate-600 text-sm">Our team can help you find the perfect modules for your needs</p>
                  </div>
                </div>
                <div class="flex flex-col sm:flex-row gap-4">
                  <button class="px-6 py-3 bg-white border border-teal-200 text-teal-700 rounded-xl hover:bg-teal-50 transition-all">
                    <i class="fal fa-phone mr-2"></i>
                    Contact Sales
                  </button>
                  <button class="px-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all">
                    <i class="fal fa-play mr-2"></i>
                    Watch Demo
                  </button>
                </div>
              </div>
              
              <div class="mt-6 pt-6 border-t border-slate-200">
                <p class="text-sm text-slate-500">
                  <i class="fal fa-shield-check text-teal-500 mr-2"></i>
                  All prices exclude VAT • 30-day money-back guarantee • Enterprise discounts available
                </p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Floating Create Button Component -->
  <webropol-floating-button 
    position="bottom-center"
    theme="teal-blue"
    items='[
      {
        "id": "surveys",
        "label": "Survey",
        "description": "Create custom surveys",
        "icon": "fal fa-chart-bar",
        "url": "../surveys/create.html"
      },
      {
        "id": "sms",
        "label": "SMS Campaign", 
        "description": "SMS messaging",
        "icon": "fal fa-sms",
        "url": "../sms/create.html"
      },
      {
        "id": "events",
        "label": "Event",
        "description": "Event management", 
        "icon": "fal fa-calendar-alt",
        "url": "../events/create.html"
      },
      {
        "id": "dashboards",
        "label": "Dashboard",
        "description": "Data visualization",
        "icon": "fal fa-chart-line", 
        "url": "../dashboards/create.html"
      }
    ]'>
  </webropol-floating-button>

  <script>
    function shopStore() {
      return {
        searchQuery: '',
        activeCategory: 'all',
        
        categories: [
          { id: 'all', name: 'All' },
          { id: 'analytics', name: 'Analytics' },
          { id: 'ai', name: 'AI & ML' },
          { id: 'assessment', name: 'Assessment' },
          { id: 'mobile', name: 'Mobile' },
          { id: 'case', name: 'Case Mgmt' }
        ],
        
        modules: [
          {
            id: 'bi-view',
            title: 'BI View',
            description: 'Powerful dashboards and insights with advanced analytics and custom reporting capabilities.',
            price: 'from 60 € / month',
            category: 'analytics',
            icon: 'fal fa-chart-bar',
            features: ['Real-time dashboards', 'Custom reports', 'Data visualization', 'Export options'],
            url: 'products/bi-view.html'
          },
          {
            id: 'ai-text-analysis',
            title: 'AI Text Analysis',
            description: 'Advanced AI-powered text analysis for sentiment analysis, topic modeling, and insights extraction.',
            price: 'from 62.50 € / month',
            category: 'ai',
            icon: 'fal fa-brain',
            features: ['Sentiment analysis', 'Topic modeling', 'Auto categorization', 'Multi-language support'],
            url: 'products/ai-text-analysis.html'
          },
          {
            id: 'etest',
            title: 'eTest',
            description: 'Comprehensive testing and evaluation platform with advanced question types and scoring.',
            price: 'from 60 € / month',
            category: 'assessment',
            icon: 'fal fa-question-circle',
            features: ['Advanced question types', 'Auto scoring', 'Detailed analytics', 'Certification support'],
            url: 'products/etest.html'
          },
          {
            id: '360-assessments',
            title: '360 Assessments',
            description: 'Multi-perspective evaluation system for comprehensive performance and feedback analysis.',
            price: 'from 150 € / month',
            category: 'assessment',
            icon: 'fal fa-sync',
            features: ['Multi-rater feedback', 'Development planning', 'Competency mapping', 'Progress tracking'],
            url: 'products/360-assessments.html'
          },
          {
            id: 'direct',
            title: 'Direct',
            description: 'Mobile-first feedback collection with real-time notifications and instant insights.',
            price: 'from 50 € / month',
            category: 'mobile',
            icon: 'fal fa-mobile-alt',
            features: ['Mobile-optimized', 'Real-time feedback', 'Push notifications', 'Offline capability'],
            url: 'products/direct-mobile-feedback.html'
          },
          {
            id: 'analytics',
            title: 'Analytics',
            description: 'Advanced statistical analysis and data science tools for deep insights and predictive modeling.',
            price: 'from 130 € / month',
            category: 'analytics',
            icon: 'fal fa-chart-line',
            features: ['Statistical analysis', 'Predictive modeling', 'Data mining', 'Advanced visualizations'],
            url: 'products/analytics.html'
          },
          {
            id: 'case-management',
            title: 'Case Management',
            description: 'Comprehensive case and workflow management system with automation and tracking capabilities.',
            price: 'from 130 € / month',
            category: 'case',
            icon: 'fal fa-tasks',
            features: ['Workflow automation', 'Case tracking', 'Team collaboration', 'SLA management'],
            url: 'products/case-management.html'
          },
          {
            id: 'wott',
            title: 'WOTT Module',
            description: 'Specialized workflow optimization and task tracking module for enhanced productivity.',
            price: 'from 49 € / month',
            category: 'case',
            icon: 'fal fa-cog',
            features: ['Task automation', 'Workflow optimization', 'Performance tracking', 'Integration support'],
            url: 'products/wott.html'
          }
        ],
        
        get filteredModules() {
          let filtered = this.modules;
          
          // Filter by category
          if (this.activeCategory !== 'all') {
            filtered = filtered.filter(module => module.category === this.activeCategory);
          }
          
          // Filter by search query
          if (this.searchQuery) {
            const query = this.searchQuery.toLowerCase();
            filtered = filtered.filter(module => 
              module.title.toLowerCase().includes(query) ||
              module.description.toLowerCase().includes(query) ||
              module.features.some(feature => feature.toLowerCase().includes(query))
            );
          }
          
          return filtered;
        },
        
        getIconClass(category) {
          const classes = {
            'analytics': 'analytics-icon',
            'ai': 'ai-icon',
            'assessment': 'assessment-icon',
            'mobile': 'mobile-icon',
            'case': 'case-icon'
          };
          return classes[category] || 'bi-icon';
        },
        
        openModule(module) {
          // Add click animation
          const event = new Event('click');
          window.location.href = module.url;
        },
        
        clearFilters() {
          this.searchQuery = '';
          this.activeCategory = 'all';
        }
      }
    }
    
    // Add staggered animation to cards on load
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.card-hover');
      cards.forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        card.classList.add('animate-slide-up');
      });
    });
  </script>
