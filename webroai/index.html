<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebropAI - AI-First Survey & Events Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fal fa-brain"></i>
                <span>WebropAI</span>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="#dashboard">Dashboard</a></li>
                    <li><a href="#surveys">Surveys</a></li>
                    <li><a href="#events">Events</a></li>
                    <li><a href="#analytics">Analytics</a></li>
                    <li><a href="#admin">Admin Panel</a></li>
                    <li><a href="#ai-assistant" class="ai-button">
                        <i class="fal fa-robot"></i> AI Assistant
                    </a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="container">
                <h1>AI-First Platform Dashboard</h1>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fal fa-poll"></i>
                        <h3>Active Surveys</h3>
                        <span class="stat-number">24</span>
                        <div class="ai-insight">
                            <i class="fal fa-lightbulb"></i>
                            <span>AI suggests 3 surveys need optimization</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fal fa-calendar-alt"></i>
                        <h3>Upcoming Events</h3>
                        <span class="stat-number">12</span>
                        <div class="ai-insight">
                            <i class="fal fa-exclamation-triangle"></i>
                            <span>AI detected potential overbooking in 2 events</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fal fa-users"></i>
                        <h3>Total Responses</h3>
                        <span class="stat-number">1,847</span>
                        <div class="ai-insight">
                            <i class="fal fa-trending-up"></i>
                            <span>15% increase from AI-optimized distribution</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fal fa-chart-line"></i>
                        <h3>AI Insights Generated</h3>
                        <span class="stat-number">89</span>
                        <div class="ai-insight">
                            <i class="fal fa-star"></i>
                            <span>92% accuracy rating from users</span>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h2>AI-Powered Quick Actions</h2>
                    <div class="action-grid">
                        <button class="action-card" onclick="openSurveyBuilder()">
                            <i class="fal fa-magic"></i>
                            <h3>Create Survey with AI</h3>
                            <p>Describe your goals and let AI build your survey</p>
                        </button>
                        <button class="action-card" onclick="openEventPlanner()">
                            <i class="fal fa-calendar-plus"></i>
                            <h3>Smart Event Planning</h3>
                            <p>AI-assisted event creation and optimization</p>
                        </button>
                        <button class="action-card" onclick="openAnalytics()">
                            <i class="fal fa-chart-bar"></i>
                            <h3>AI Analytics</h3>
                            <p>Get instant insights from your data</p>
                        </button>
                        <button class="action-card" onclick="openOptimizer()">
                            <i class="fal fa-cog"></i>
                            <h3>Campaign Optimizer</h3>
                            <p>AI-driven distribution and targeting</p>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Survey Builder Section -->
        <section id="surveys" class="section">
            <div class="container">
                <h1>AI Survey Builder</h1>
                
                <!-- Survey Type Selection -->
                <div class="survey-type-selector">
                    <h2><i class="fal fa-clipboard-list"></i> Choose Survey Type</h2>
                    <div class="type-grid">
                        <div class="type-card" data-type="etest" onclick="selectSurveyType('etest')">
                            <i class="fal fa-graduation-cap"></i>
                            <h3>eTest</h3>
                            <p>Create assessments, quizzes, and educational evaluations</p>
                            <div class="ai-badge">AI Optimized</div>
                        </div>
                        <div class="type-card" data-type="360" onclick="selectSurveyType('360')">
                            <i class="fal fa-sync-alt"></i>
                            <h3>360Â° Feedback</h3>
                            <p>Multi-source feedback and performance evaluation</p>
                            <div class="ai-badge">AI Optimized</div>
                        </div>
                        <div class="type-card" data-type="sms-survey" onclick="selectSurveyType('sms-survey')">
                            <i class="fal fa-mobile-alt"></i>
                            <h3>SMS Survey</h3>
                            <p>Mobile-first surveys via SMS distribution</p>
                            <div class="ai-badge">AI Optimized</div>
                        </div>
                        <div class="type-card" data-type="cx-survey" onclick="selectSurveyType('cx-survey')">
                            <i class="fal fa-heart"></i>
                            <h3>CX Survey</h3>
                            <p>Customer Experience measurement and optimization</p>
                            <div class="ai-badge">AI Optimized</div>
                        </div>
                        <div class="type-card" data-type="feedback-table" onclick="selectSurveyType('feedback-table')">
                            <i class="fal fa-table"></i>
                            <h3>Feedback Table</h3>
                            <p>Structured feedback collection with data tables</p>
                            <div class="ai-badge">AI Optimized</div>
                        </div>
                        <div class="type-card" data-type="custom" onclick="selectSurveyType('custom')">
                            <i class="fal fa-cog"></i>
                            <h3>Custom Survey</h3>
                            <p>Build from scratch with AI assistance</p>
                            <div class="ai-badge">AI Assisted</div>
                        </div>
                    </div>
                </div>

                <div class="builder-container" id="builderContainer" style="display: none;">
                    <div class="builder-sidebar">
                        <h3>AI Assistant</h3>
                        <div class="survey-type-info" id="surveyTypeInfo">
                            <!-- Selected survey type info will appear here -->
                        </div>
                        <div class="ai-chat">
                            <div class="chat-messages" id="chatMessages">
                                <div class="message ai-message">
                                    <i class="fal fa-robot"></i>
                                    <div class="message-content">
                                        <p>Hi! I'm your AI survey assistant. I'll help you build the perfect survey based on your selected type.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="aiInput" placeholder="E.g., 'Add a question about pricing...'" />
                                <button onclick="sendAIMessage()"><i class="fal fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="builder-main">
                        <div class="survey-setup">
                            <div class="survey-header">
                                <input type="text" class="survey-title" placeholder="Survey Title" />
                                <button class="ai-suggest-btn" onclick="suggestTitle()">
                                    <i class="fal fa-magic"></i> AI Suggest
                                </button>
                            </div>

                            <!-- Survey Configuration -->
                            <div class="survey-config">
                                <div class="config-row">
                                    <div class="config-item">
                                        <label>Survey Language</label>
                                        <select id="surveyLanguage">
                                            <option value="en">English</option>
                                            <option value="fi">Finnish</option>
                                            <option value="sv">Swedish</option>
                                            <option value="de">German</option>
                                            <option value="fr">French</option>
                                            <option value="es">Spanish</option>
                                        </select>
                                    </div>
                                    <div class="config-item">
                                        <label>Survey Duration</label>
                                        <select id="surveyDuration">
                                            <option value="1-week">1 Week</option>
                                            <option value="2-weeks">2 Weeks</option>
                                            <option value="1-month">1 Month</option>
                                            <option value="3-months">3 Months</option>
                                            <option value="ongoing">Ongoing</option>
                                        </select>
                                    </div>
                                    <div class="config-item">
                                        <label>Response Limit</label>
                                        <input type="number" id="responseLimit" placeholder="No limit" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="question-builder" id="questionBuilder">
                            <div class="question-item">
                                <div class="question-header">
                                    <span>Question 1</span>
                                    <div class="question-actions">
                                        <button class="ai-suggest-btn" onclick="suggestQuestion(1)">
                                            <i class="fal fa-lightbulb"></i> AI Suggest
                                        </button>
                                        <button class="btn-icon" onclick="deleteQuestion(1)">
                                            <i class="fal fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <textarea placeholder="Enter your question here..." class="question-input"></textarea>
                                <select class="question-type">
                                    <option value="text">Text</option>
                                    <option value="multiple-choice">Multiple Choice</option>
                                    <option value="rating">Rating Scale</option>
                                    <option value="yes-no">Yes/No</option>
                                    <option value="nps">NPS</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="add-question-btn" onclick="addQuestion()">
                            <i class="fal fa-plus"></i> Add Question
                        </button>
                        
                        <div class="ai-recommendations" id="aiRecommendations">
                            <h3><i class="fal fa-brain"></i> AI Recommendations</h3>
                            <div class="recommendation-list">
                                <!-- AI suggestions will be populated here -->
                            </div>
                        </div>

                        <!-- Publishing & Distribution Section -->
                        <div class="publish-section">
                            <h2><i class="fal fa-rocket"></i> Publishing & Distribution</h2>
                            
                            <!-- Publishing Methods -->
                            <div class="publish-methods">
                                <h3>Publishing Method</h3>
                                <div class="method-grid">
                                    <div class="method-card" data-method="immediate" onclick="selectPublishMethod('immediate')">
                                        <i class="fal fa-play"></i>
                                        <h4>Publish Immediately</h4>
                                        <p>Make survey live right after creation</p>
                                        <div class="ai-insight-small">
                                            <i class="fal fa-lightbulb"></i>
                                            <span>Best for urgent feedback</span>
                                        </div>
                                    </div>
                                    <div class="method-card" data-method="scheduled" onclick="selectPublishMethod('scheduled')">
                                        <i class="fal fa-calendar-alt"></i>
                                        <h4>Schedule Publication</h4>
                                        <p>Set specific date and time to go live</p>
                                        <div class="ai-insight-small">
                                            <i class="fal fa-star"></i>
                                            <span>AI recommends Tuesday 10 AM</span>
                                        </div>
                                    </div>
                                    <div class="method-card" data-method="draft" onclick="selectPublishMethod('draft')">
                                        <i class="fal fa-save"></i>
                                        <h4>Save as Draft</h4>
                                        <p>Review and test before publishing</p>
                                        <div class="ai-insight-small">
                                            <i class="fal fa-check"></i>
                                            <span>Recommended for complex surveys</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="schedule-options" id="scheduleOptions" style="display: none;">
                                    <div class="schedule-row">
                                        <div class="schedule-item">
                                            <label>Publication Date</label>
                                            <input type="date" id="publishDate" />
                                        </div>
                                        <div class="schedule-item">
                                            <label>Publication Time</label>
                                            <input type="time" id="publishTime" value="10:00" />
                                        </div>
                                        <div class="schedule-item">
                                            <label>Timezone</label>
                                            <select id="timezone">
                                                <option value="local">Local Time</option>
                                                <option value="utc">UTC</option>
                                                <option value="et">Eastern Time</option>
                                                <option value="pt">Pacific Time</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Distribution Methods -->
                            <div class="distribution-methods">
                                <h3>Distribution Channels</h3>
                                <div class="channel-selection">
                                    <div class="channel-card" data-channel="email" onclick="toggleDistributionChannel('email')">
                                        <div class="channel-header">
                                            <i class="fal fa-envelope"></i>
                                            <h4>Email Distribution</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="email-toggle" />
                                                <label for="email-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 68%</span>
                                            <span class="stat">Open Rate: 24%</span>
                                            <span class="stat">Cost: $0.50/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-thumbs-up"></i>
                                            <span>AI recommends for professional audiences</span>
                                        </div>
                                    </div>

                                    <div class="channel-card" data-channel="sms" onclick="toggleDistributionChannel('sms')">
                                        <div class="channel-header">
                                            <i class="fal fa-sms"></i>
                                            <h4>SMS Distribution</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="sms-toggle" />
                                                <label for="sms-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 45%</span>
                                            <span class="stat">Open Rate: 98%</span>
                                            <span class="stat">Cost: $2.10/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-mobile-alt"></i>
                                            <span>AI recommends for mobile-first audiences</span>
                                        </div>
                                    </div>

                                    <div class="channel-card" data-channel="social" onclick="toggleDistributionChannel('social')">
                                        <div class="channel-header">
                                            <i class="fal fa-share-alt"></i>
                                            <h4>Social Media</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="social-toggle" />
                                                <label for="social-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 12%</span>
                                            <span class="stat">Reach: High</span>
                                            <span class="stat">Cost: $0.25/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-users"></i>
                                            <span>AI recommends for brand awareness surveys</span>
                                        </div>
                                    </div>

                                    <div class="channel-card" data-channel="web" onclick="toggleDistributionChannel('web')">
                                        <div class="channel-header">
                                            <i class="fal fa-globe"></i>
                                            <h4>Website Embed</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="web-toggle" />
                                                <label for="web-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 35%</span>
                                            <span class="stat">Integration: Easy</span>
                                            <span class="stat">Cost: $0.05/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-code"></i>
                                            <span>AI recommends for website visitors</span>
                                        </div>
                                    </div>

                                    <div class="channel-card" data-channel="qr" onclick="toggleDistributionChannel('qr')">
                                        <div class="channel-header">
                                            <i class="fal fa-qrcode"></i>
                                            <h4>QR Code</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="qr-toggle" />
                                                <label for="qr-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 28%</span>
                                            <span class="stat">Offline Access: Yes</span>
                                            <span class="stat">Cost: $0.10/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-map-marker-alt"></i>
                                            <span>AI recommends for physical locations</span>
                                        </div>
                                    </div>

                                    <div class="channel-card" data-channel="api" onclick="toggleDistributionChannel('api')">
                                        <div class="channel-header">
                                            <i class="fal fa-plug"></i>
                                            <h4>API Integration</h4>
                                            <div class="channel-toggle">
                                                <input type="checkbox" id="api-toggle" />
                                                <label for="api-toggle"></label>
                                            </div>
                                        </div>
                                        <div class="channel-stats">
                                            <span class="stat">Response Rate: 78%</span>
                                            <span class="stat">Integration: Advanced</span>
                                            <span class="stat">Cost: $0.15/response</span>
                                        </div>
                                        <div class="ai-recommendation">
                                            <i class="fal fa-cogs"></i>
                                            <span>AI recommends for app integrations</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Distribution Settings -->
                                <div class="distribution-settings">
                                    <h4>Distribution Settings</h4>
                                    <div class="settings-grid">
                                        <div class="setting-item">
                                            <label>Target Audience</label>
                                            <select id="targetAudience">
                                                <option value="all">All Contacts</option>
                                                <option value="customers">Customers Only</option>
                                                <option value="employees">Employees Only</option>
                                                <option value="prospects">Prospects Only</option>
                                                <option value="custom">Custom Segment</option>
                                            </select>
                                        </div>
                                        <div class="setting-item">
                                            <label>Send Frequency</label>
                                            <select id="sendFrequency">
                                                <option value="once">Send Once</option>
                                                <option value="reminder">With Reminders</option>
                                                <option value="recurring">Recurring Survey</option>
                                            </select>
                                        </div>
                                        <div class="setting-item">
                                            <label>Response Tracking</label>
                                            <select id="responseTracking">
                                                <option value="anonymous">Anonymous</option>
                                                <option value="tracked">Track Responses</option>
                                                <option value="partial">Partial Tracking</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- AI Optimization Panel -->
                                    <div class="ai-optimization-panel">
                                        <h4><i class="fal fa-brain"></i> AI Optimization Recommendations</h4>
                                        <div class="optimization-list" id="optimizationList">
                                            <div class="optimization-item">
                                                <i class="fal fa-clock"></i>
                                                <span>Send on Tuesday at 10:00 AM for 23% higher response rates</span>
                                                <button class="apply-btn" onclick="applyOptimization('timing')">Apply</button>
                                            </div>
                                            <div class="optimization-item">
                                                <i class="fal fa-users"></i>
                                                <span>Segment by previous engagement for 15% better targeting</span>
                                                <button class="apply-btn" onclick="applyOptimization('segmentation')">Apply</button>
                                            </div>
                                            <div class="optimization-item">
                                                <i class="fal fa-envelope-open"></i>
                                                <span>Use personalized subject lines for 34% higher open rates</span>
                                                <button class="apply-btn" onclick="applyOptimization('personalization')">Apply</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Launch Survey Button -->
                            <div class="launch-section">
                                <button class="launch-survey-btn" onclick="launchSurvey()">
                                    <i class="fal fa-rocket"></i>
                                    Launch Survey
                                </button>
                                <div class="launch-options">
                                    <button class="preview-btn" onclick="previewSurvey()">
                                        <i class="fal fa-eye"></i>
                                        Preview Survey
                                    </button>
                                    <button class="test-btn" onclick="testSurvey()">
                                        <i class="fal fa-flask"></i>
                                        Test Survey
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="events" class="section">
            <div class="container">
                <h1>AI Event Management</h1>
                <div class="events-dashboard">
                    <div class="event-creator">
                        <h2>Create Smart Event</h2>
                        <div class="form-group">
                            <label>Event Description</label>
                            <textarea id="eventDescription" placeholder="Describe your event and I'll help you plan it..."></textarea>
                            <button class="ai-suggest-btn" onclick="generateEventPlan()">
                                <i class="fal fa-magic"></i> Generate AI Plan
                            </button>
                        </div>
                        
                        <div class="event-predictions" id="eventPredictions">
                            <!-- AI predictions will appear here -->
                        </div>
                    </div>
                    
                    <div class="events-list">
                        <h2>Your Events</h2>
                        <div class="event-card">
                            <div class="event-header">
                                <h3>Product Launch Webinar</h3>
                                <span class="event-status warning">AI Alert</span>
                            </div>
                            <div class="event-details">
                                <p><i class="fal fa-calendar"></i> March 15, 2024 - 2:00 PM</p>
                                <p><i class="fal fa-users"></i> 150 registered / 120 capacity</p>
                            </div>
                            <div class="ai-insight">
                                <i class="fal fa-exclamation-triangle"></i>
                                <p>AI predicts 25% no-show rate. Consider overbooking by 30 people.</p>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="event-header">
                                <h3>Customer Feedback Session</h3>
                                <span class="event-status success">AI Optimized</span>
                            </div>
                            <div class="event-details">
                                <p><i class="fal fa-calendar"></i> March 20, 2024 - 10:00 AM</p>
                                <p><i class="fal fa-users"></i> 45 registered / 50 capacity</p>
                            </div>
                            <div class="ai-insight">
                                <i class="fal fa-check-circle"></i>
                                <p>AI suggests sending reminder 24h before. Optimal engagement predicted.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="section">
            <div class="container">
                <h1>AI-Powered Analytics</h1>
                <div class="analytics-dashboard">
                    <div class="insights-panel">
                        <h2>AI Insights</h2>
                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fal fa-trending-down text-warning"></i>
                                <h3>Sentiment Alert</h3>
                            </div>
                            <p>Negative sentiment increased 15% in customer satisfaction surveys. Key themes: "slow response time", "pricing concerns"</p>
                            <button class="btn-primary">View Details</button>
                        </div>
                        
                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fal fa-lightbulb text-info"></i>
                                <h3>Optimization Opportunity</h3>
                            </div>
                            <p>AI suggests sending surveys on Tuesday at 10 AM for 23% higher response rates based on your audience patterns.</p>
                            <button class="btn-primary">Apply Recommendation</button>
                        </div>
                        
                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fal fa-exclamation-circle text-danger"></i>
                                <h3>Anomaly Detected</h3>
                            </div>
                            <p>NPS score dropped 12 points in the last week. This is unusual compared to your 6-month average.</p>
                            <button class="btn-primary">Investigate</button>
                        </div>
                    </div>
                    
                    <div class="charts-panel">
                        <h2>Smart Visualizations</h2>
                        <div class="chart-container">
                            <canvas id="sentimentChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="responseChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Panel Section -->
        <section id="admin" class="section">
            <div class="container">
                <h1>Admin Panel</h1>
                
                <!-- Admin Navigation Tabs -->
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchAdminTab('users')">
                        <i class="fal fa-users"></i>
                        User Management
                    </button>
                    <button class="admin-tab" onclick="switchAdminTab('environments')">
                        <i class="fal fa-server"></i>
                        Environments
                    </button>
                    <button class="admin-tab" onclick="switchAdminTab('settings')">
                        <i class="fal fa-cog"></i>
                        System Settings
                    </button>
                    <button class="admin-tab" onclick="switchAdminTab('analytics')">
                        <i class="fal fa-chart-line"></i>
                        Usage Analytics
                    </button>
                </div>

                <!-- User Management Tab -->
                <div class="admin-content" id="admin-users" style="display: block;">
                    <div class="admin-header">
                        <h2><i class="fal fa-users"></i> User Management</h2>
                        <button class="admin-action-btn" onclick="openAddUserModal()">
                            <i class="fal fa-plus"></i>
                            Add User
                        </button>
                    </div>

                    <!-- User Statistics -->
                    <div class="admin-stats">
                        <div class="admin-stat-card">
                            <i class="fal fa-users"></i>
                            <h3>Total Users</h3>
                            <span class="stat-number">247</span>
                            <div class="stat-change positive">+12 this month</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fal fa-user-check"></i>
                            <h3>Active Users</h3>
                            <span class="stat-number">189</span>
                            <div class="stat-change positive">+8% from last month</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fal fa-user-shield"></i>
                            <h3>Admin Users</h3>
                            <span class="stat-number">15</span>
                            <div class="stat-change neutral">No change</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fal fa-user-clock"></i>
                            <h3>Pending Invites</h3>
                            <span class="stat-number">8</span>
                            <div class="stat-change negative">-3 from yesterday</div>
                        </div>
                    </div>

                    <!-- User Search and Filters -->
                    <div class="user-controls">
                        <div class="search-box">
                            <i class="fal fa-search"></i>
                            <input type="text" placeholder="Search users..." id="userSearch" />
                        </div>
                        <div class="filter-controls">
                            <select id="userRoleFilter">
                                <option value="all">All Roles</option>
                                <option value="admin">Admin</option>
                                <option value="user">User</option>
                                <option value="viewer">Viewer</option>
                            </select>
                            <select id="userStatusFilter">
                                <option value="all">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="pending">Pending</option>
                            </select>
                            <button class="filter-btn" onclick="applyUserFilters()">
                                <i class="fal fa-filter"></i>
                                Apply Filters
                            </button>
                        </div>
                    </div>

                    <!-- Users Table -->
                    <div class="users-table-container">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Last Active</th>
                                    <th>Surveys Created</th>
                                    <th>Environment</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <tr>
                                    <td>
                                        <div class="user-info">
                                            <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar" />
                                            <div class="user-details">
                                                <strong>John Smith</strong>
                                                <span>john.smith@webropol.com</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="role-badge admin">Admin</span></td>
                                    <td><span class="status-badge active">Active</span></td>
                                    <td>2 hours ago</td>
                                    <td>23</td>
                                    <td>Production</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn edit" onclick="editUser('john.smith')">
                                                <i class="fal fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteUser('john.smith')">
                                                <i class="fal fa-trash"></i>
                                            </button>
                                            <button class="action-btn more" onclick="showUserMenu('john.smith')">
                                                <i class="fal fa-ellipsis-v"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info">
                                            <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar" />
                                            <div class="user-details">
                                                <strong>Emma Johnson</strong>
                                                <span>emma.johnson@webropol.com</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="role-badge user">User</span></td>
                                    <td><span class="status-badge active">Active</span></td>
                                    <td>1 day ago</td>
                                    <td>45</td>
                                    <td>Development</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn edit" onclick="editUser('emma.johnson')">
                                                <i class="fal fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteUser('emma.johnson')">
                                                <i class="fal fa-trash"></i>
                                            </button>
                                            <button class="action-btn more" onclick="showUserMenu('emma.johnson')">
                                                <i class="fal fa-ellipsis-v"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info">
                                            <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar" />
                                            <div class="user-details">
                                                <strong>Michael Brown</strong>
                                                <span>michael.brown@webropol.com</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="role-badge viewer">Viewer</span></td>
                                    <td><span class="status-badge pending">Pending</span></td>
                                    <td>Never</td>
                                    <td>0</td>
                                    <td>Staging</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn edit" onclick="editUser('michael.brown')">
                                                <i class="fal fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteUser('michael.brown')">
                                                <i class="fal fa-trash"></i>
                                            </button>
                                            <button class="action-btn more" onclick="showUserMenu('michael.brown')">
                                                <i class="fal fa-ellipsis-v"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Environment Management Tab -->
                <div class="admin-content" id="admin-environments" style="display: none;">
                    <div class="admin-header">
                        <h2><i class="fal fa-server"></i> Environment Management</h2>
                        <button class="admin-action-btn" onclick="openAddEnvironmentModal()">
                            <i class="fal fa-plus"></i>
                            Add Environment
                        </button>
                    </div>

                    <!-- Environment Cards -->
                    <div class="environments-grid">
                        <div class="environment-card production">
                            <div class="env-header">
                                <div class="env-info">
                                    <h3>Production</h3>
                                    <span class="env-status online">Online</span>
                                </div>
                                <div class="env-actions">
                                    <button class="env-action-btn" onclick="manageEnvironment('production')">
                                        <i class="fal fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="env-details">
                                <div class="env-stat">
                                    <i class="fal fa-users"></i>
                                    <span>156 Active Users</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-poll"></i>
                                    <span>1,247 Surveys</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-database"></i>
                                    <span>12.5 GB Storage</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-clock"></i>
                                    <span>99.9% Uptime</span>
                                </div>
                            </div>
                            <div class="env-config">
                                <h4>Configuration</h4>
                                <div class="config-items">
                                    <div class="config-item">
                                        <span>URL:</span>
                                        <span>https://app.webropol.com</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Version:</span>
                                        <span>v2.1.5</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Last Deploy:</span>
                                        <span>2 days ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="environment-card staging">
                            <div class="env-header">
                                <div class="env-info">
                                    <h3>Staging</h3>
                                    <span class="env-status online">Online</span>
                                </div>
                                <div class="env-actions">
                                    <button class="env-action-btn" onclick="manageEnvironment('staging')">
                                        <i class="fal fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="env-details">
                                <div class="env-stat">
                                    <i class="fal fa-users"></i>
                                    <span>25 Test Users</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-poll"></i>
                                    <span>89 Test Surveys</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-database"></i>
                                    <span>2.1 GB Storage</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-clock"></i>
                                    <span>99.2% Uptime</span>
                                </div>
                            </div>
                            <div class="env-config">
                                <h4>Configuration</h4>
                                <div class="config-items">
                                    <div class="config-item">
                                        <span>URL:</span>
                                        <span>https://staging.webropol.com</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Version:</span>
                                        <span>v2.2.0-beta</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Last Deploy:</span>
                                        <span>6 hours ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="environment-card development">
                            <div class="env-header">
                                <div class="env-info">
                                    <h3>Development</h3>
                                    <span class="env-status online">Online</span>
                                </div>
                                <div class="env-actions">
                                    <button class="env-action-btn" onclick="manageEnvironment('development')">
                                        <i class="fal fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="env-details">
                                <div class="env-stat">
                                    <i class="fal fa-users"></i>
                                    <span>12 Developers</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-poll"></i>
                                    <span>45 Dev Surveys</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-database"></i>
                                    <span>850 MB Storage</span>
                                </div>
                                <div class="env-stat">
                                    <i class="fal fa-clock"></i>
                                    <span>95.8% Uptime</span>
                                </div>
                            </div>
                            <div class="env-config">
                                <h4>Configuration</h4>
                                <div class="config-items">
                                    <div class="config-item">
                                        <span>URL:</span>
                                        <span>https://dev.webropol.com</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Version:</span>
                                        <span>v2.3.0-dev</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Last Deploy:</span>
                                        <span>30 minutes ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Settings Tab -->
                <div class="admin-content" id="admin-settings" style="display: none;">
                    <div class="admin-header">
                        <h2><i class="fal fa-cog"></i> System Settings</h2>
                    </div>

                    <div class="settings-sections">
                        <div class="settings-section">
                            <h3>AI Configuration</h3>
                            <div class="setting-group">
                                <div class="setting-item">
                                    <label>AI Engine Status</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="ai-enabled" checked />
                                        <label for="ai-enabled"></label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <label>AI Suggestion Level</label>
                                    <select>
                                        <option value="high">High (Proactive)</option>
                                        <option value="medium" selected>Medium (Balanced)</option>
                                        <option value="low">Low (On-demand)</option>
                                    </select>
                                </div>
                                <div class="setting-item">
                                    <label>AI Learning</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="ai-learning" checked />
                                        <label for="ai-learning"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Security Settings</h3>
                            <div class="setting-group">
                                <div class="setting-item">
                                    <label>Two-Factor Authentication</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="2fa-enabled" />
                                        <label for="2fa-enabled"></label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <label>Session Timeout (minutes)</label>
                                    <input type="number" value="30" min="5" max="480" />
                                </div>
                                <div class="setting-item">
                                    <label>Password Policy</label>
                                    <select>
                                        <option value="standard">Standard</option>
                                        <option value="strong" selected>Strong</option>
                                        <option value="enterprise">Enterprise</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Email Configuration</h3>
                            <div class="setting-group">
                                <div class="setting-item">
                                    <label>SMTP Server</label>
                                    <input type="text" value="smtp.webropol.com" />
                                </div>
                                <div class="setting-item">
                                    <label>Email Rate Limit (per hour)</label>
                                    <input type="number" value="1000" />
                                </div>
                                <div class="setting-item">
                                    <label>Default Sender</label>
                                    <input type="email" value="noreply@webropol.com" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Usage Analytics Tab -->
                <div class="admin-content" id="admin-analytics" style="display: none;">
                    <div class="admin-header">
                        <h2><i class="fal fa-chart-line"></i> Usage Analytics</h2>
                    </div>

                    <div class="analytics-overview">
                        <div class="analytics-cards">
                            <div class="analytics-card">
                                <h4>Survey Creation Trends</h4>
                                <canvas id="surveyTrendsChart" width="300" height="200"></canvas>
                            </div>
                            <div class="analytics-card">
                                <h4>User Activity</h4>
                                <canvas id="userActivityChart" width="300" height="200"></canvas>
                            </div>
                            <div class="analytics-card">
                                <h4>AI Usage Statistics</h4>
                                <div class="ai-stats">
                                    <div class="ai-stat">
                                        <span class="stat-label">AI Suggestions Generated</span>
                                        <span class="stat-value">12,547</span>
                                    </div>
                                    <div class="ai-stat">
                                        <span class="stat-label">Suggestions Accepted</span>
                                        <span class="stat-value">9,234 (74%)</span>
                                    </div>
                                    <div class="ai-stat">
                                        <span class="stat-label">AI Optimization Applied</span>
                                        <span class="stat-value">3,456</span>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-card">
                                <h4>System Performance</h4>
                                <div class="performance-metrics">
                                    <div class="metric">
                                        <span>Response Time</span>
                                        <span class="metric-value good">245ms</span>
                                    </div>
                                    <div class="metric">
                                        <span>Memory Usage</span>
                                        <span class="metric-value warning">67%</span>
                                    </div>
                                    <div class="metric">
                                        <span>CPU Usage</span>
                                        <span class="metric-value good">34%</span>
                                    </div>
                                    <div class="metric">
                                        <span>Storage</span>
                                        <span class="metric-value warning">78%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New User</h3>
                <button class="close-btn" onclick="closeAddUserModal()">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" id="firstName" required />
                        </div>
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" id="lastName" required />
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="email" required />
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Role</label>
                            <select id="role" required>
                                <option value="user">User</option>
                                <option value="admin">Admin</option>
                                <option value="viewer">Viewer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Environment</label>
                            <select id="environment" required>
                                <option value="production">Production</option>
                                <option value="staging">Staging</option>
                                <option value="development">Development</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="sendInvite" checked />
                            Send invitation email
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeAddUserModal()">Cancel</button>
                <button class="btn-primary" onclick="addUser()">Add User</button>
            </div>
        </div>
    </div>

    <!-- AI Assistant Floating Panel -->
    <div id="aiAssistant" class="ai-assistant-panel">
        <div class="ai-panel-header">
            <h3><i class="fal fa-robot"></i> AI Assistant</h3>
            <button onclick="toggleAIAssistant()"><i class="fal fa-times"></i></button>
        </div>
        <div class="ai-panel-content">
            <div class="ai-suggestions">
                <h4>Quick Actions</h4>
                <button onclick="aiSuggestSurvey()">Suggest Survey Questions</button>
                <button onclick="aiAnalyzeData()">Analyze Current Data</button>
                <button onclick="aiOptimizeDistribution()">Optimize Distribution</button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="ai-engine.js"></script>
    <script src="app.js"></script>
</body>
</html>
