<!-- 
═══════════════════════════════════════════════════════════════════════════
  WEBROPOL GLOBAL ANALYTICS - INTEGRATION SNIPPET
═══════════════════════════════════════════════════════════════════════════

  WHAT THIS DOES:
  ✅ Automatically tracks this page's visits
  ✅ Counts unique visitors
  ✅ Logs file name and directory
  ✅ Tracks hash-based navigation
  ✅ Monitors user sessions
  ✅ All data sent to centralized dashboard

  HOW TO USE:
  1. Copy the <script> tag below
  2. Paste it in the <head> or before </body> of ANY page
  3. That's it! Page is now tracked.

  VIEW ANALYTICS:
  Open: analytics-monitor.html in your browser

  DOCUMENTATION:
  See: docs/GLOBAL-ANALYTICS-GUIDE.md

═══════════════════════════════════════════════════════════════════════════
-->

<!-- COPY THIS LINE TO ANY PAGE ↓ -->
<script src="/scripts/analytics-global-tracker.js"></script>
<!-- THAT'S ALL YOU NEED! ↑ -->

<!-- 
═══════════════════════════════════════════════════════════════════════════
  EXAMPLES FOR DIFFERENT PAGE LOCATIONS
═══════════════════════════════════════════════════════════════════════════
-->

<!-- For pages in ROOT folder (index.html, analytics-monitor.html, etc.) -->
<script src="scripts/analytics-global-tracker.js"></script>

<!-- For pages in SUBDIRECTORIES (surveys/, events/, examples/, etc.) -->
<script src="../scripts/analytics-global-tracker.js"></script>

<!-- For pages in NESTED SUBDIRECTORIES (surveys/create/, etc.) -->
<script src="../../scripts/analytics-global-tracker.js"></script>

<!-- 
═══════════════════════════════════════════════════════════════════════════
  FULL PAGE EXAMPLES
═══════════════════════════════════════════════════════════════════════════
-->

<!-- 
EXAMPLE 1: Root Page (index.html)
────────────────────────────────────────────────────────────────────────
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>My Page</title>
    <!-- Add tracker in head -->
    <script src="scripts/analytics-global-tracker.js"></script>
</head>
<body>
    <h1>Welcome</h1>
</body>
</html>

<!-- 
EXAMPLE 2: Subdirectory Page (examples/group-rules.html)
────────────────────────────────────────────────────────────────────────
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Group Rules Example</title>
    <!-- Go up one level to reach scripts/ -->
    <script src="../scripts/analytics-global-tracker.js"></script>
</head>
<body>
    <h1>Group Rules</h1>
</body>
</html>

<!-- 
EXAMPLE 3: SPA with Hash Routes (index.html with #/home, #/surveys/list)
────────────────────────────────────────────────────────────────────────
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Webropol App</title>
    <script src="scripts/analytics-global-tracker.js"></script>
</head>
<body>
    <nav>
        <a href="#/home">Home</a>
        <a href="#/surveys/list">Surveys</a>
        <a href="#/events/list">Events</a>
    </nav>
    <div id="app"></div>
    
    <!-- Hash routes automatically tracked! -->
</body>
</html>

<!-- 
═══════════════════════════════════════════════════════════════════════════
  QUICK VERIFICATION
═══════════════════════════════════════════════════════════════════════════

After adding the tracker to a page:

1. Open the page in your browser
2. Open browser console (F12)
3. You should see:
   [Global Analytics] Initialized
   [Global Analytics] Ready to track!
   [Global Analytics] Page tracked {page: "...", file: "...", visitors: 1}

4. Check it worked:
   - Type: window.webropolAnalytics.getStats()
   - Should show stats object

5. View in dashboard:
   - Open: analytics-monitor.html
   - Click: Refresh button
   - Your page should appear in the "All Pages" table!

═══════════════════════════════════════════════════════════════════════════
  TROUBLESHOOTING
═══════════════════════════════════════════════════════════════════════════

❌ Script 404 Error?
   → Check the path: ../ goes up one level
   → Root pages use: scripts/
   → Subdir pages use: ../scripts/

❌ No console logs?
   → Open analytics-global-tracker.js
   → Set DEBUG: true in CONFIG object

❌ Not showing in dashboard?
   → Visit the page first to generate data
   → Click "Refresh" in dashboard
   → Check localStorage: localStorage.getItem('webropolGlobalAnalytics')

═══════════════════════════════════════════════════════════════════════════
  WHAT GETS TRACKED?
═══════════════════════════════════════════════════════════════════════════

✅ Page URL and path
✅ File name
✅ Directory
✅ Page title
✅ Unique visitors (session-based)
✅ Total views
✅ First visit timestamp
✅ Last visit timestamp
✅ Referrer (where visitor came from)
✅ Hash routes (#/home, #/surveys/list, etc.)
✅ Session duration
✅ Pages visited per session
✅ Navigation flow (from → to)

═══════════════════════════════════════════════════════════════════════════
  PRIVACY & PERFORMANCE
═══════════════════════════════════════════════════════════════════════════

🔒 Privacy:
   - No external API calls
   - No personal data collected
   - Session IDs are random strings
   - All data stored locally in browser

⚡ Performance:
   - ~20KB script size
   - Minimal CPU usage
   - Debounced events (300ms)
   - Auto-save every 5 seconds
   - No impact on page load speed

═══════════════════════════════════════════════════════════════════════════
  READY TO USE!
═══════════════════════════════════════════════════════════════════════════

Just copy this one line to any page:

<script src="[correct-path]/scripts/analytics-global-tracker.js"></script>

And visit: analytics-monitor.html to see your data!

🎉 Happy tracking!

═══════════════════════════════════════════════════════════════════════════
-->
